var express = require('express');var router = express.Router();var con=require('../../modules/admin/mysql');var ejs=require('ejs');//请求页面router.get('/:ids', function(req, res, next) {    var id=req.params.ids;    con.query('select * from hcategory where id=?',[id],function(err,rul,fiels){        if (err)throw err;        if (rul.length>0){            //数据处理，以及网页请求            res.render('./admin/cateedit', { data:rul });        }else{            res.end('错误');        }    });});// 请求页面router.post('/',function(req,res,next){    var id=req.body.id;    var name=req.body.name;    var enname=req.body.enname;    var img=req.body.img;    var pid=req.body.pid;    var isshow=req.body.isshows;    con.query('update hcategory set name=?,enname=?,img=?,pid=?,isshow=?  where id=?',[name,enname,img,pid,isshow,id],function(err,rul,fiels){        if (err)throw err;        console.dir(rul.affectedRows+'-------');        if(rul.affectedRows>0){           res.redirect('/hcolumn');        }else{            res.redirect('/hcateedit');        }    });});module.exports = router;